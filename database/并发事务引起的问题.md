---
title: "并发事务引起的问题"
date: 2023-03-14T02:40:15Z
draft: false
---

# 并发事务引起的问题

并发的写入和读取，可能会得到非预期的结果，这些现象被总结为：脏读、不可重复读、幻读、序列化异常。

## 脏读（Dirty Read）
第一个事务读取了第二个事务中已修改但还**未提交**的数据，当第二个事务**回滚**后，第一个事务读到的就是脏数据，因此被称为脏读。


## 不可重复读（Non-repeatable Read）
当一个事务第一次读取数据后，该数据被另一个**已提交**的事务修改了，当事务再次读取时发现两次查询结果不一致，因此被称为不可重复读，主要由`Update`影响。


## 幻读（Phantom Read）
指一个事物的两次查询的结果集**记录数**不一致。比如第一次按条件查询了一组数据，而另一个事务删除或插入了一些数据，导致第二次查询的结果数据不存在，或者新增了一些数据，主要由`Insert`和`Delete`影响。


## 序列化异常（Serialization Anomaly）
列化异常是指成功提交的一组事务的执行结果与这些事务按照串行执行方式的执行结果不一致。
